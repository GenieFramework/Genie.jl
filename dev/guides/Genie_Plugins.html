<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Using Genie Plugins · Genie - The Highly Productive Julia Web Framework</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Genie - The Highly Productive Julia Web Framework</span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li><span class="tocitem">Guides</span><ul><li><a class="tocitem" href="Working_With_Genie_Apps.html">Working with Genie Apps</a></li><li><a class="tocitem" href="Interactive_environment.html">Using Genie in an interactive environment</a></li><li><a class="tocitem" href="Simple_API_backend.html">Developing an API backend</a></li><li class="is-active"><a class="tocitem" href="Genie_Plugins.html">Using Genie Plugins</a><ul class="internal"><li><a class="tocitem" href="#Using-Genie-Plugins"><span>Using Genie Plugins</span></a></li><li><a class="tocitem" href="#Walkthrough"><span>Walkthrough</span></a></li><li><a class="tocitem" href="#Developing-Genie-Plugins"><span>Developing Genie Plugins</span></a></li></ul></li><li><a class="tocitem" href="Working_With_Genie_Apps_Intermediary_Topics.html">Working With Genie Apps: Intermediate Topics [WIP]</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/1--Overview.html">Welcome to Genie</a></li><li><a class="tocitem" href="../tutorials/2--Installing_Genie.html">Installing Genie</a></li><li><a class="tocitem" href="../tutorials/3--Getting_Started.html">Getting started</a></li><li><a class="tocitem" href="../tutorials/4--Developing_Web_Services.html">Creating a web service</a></li><li><a class="tocitem" href="../tutorials/4-1--Developing_MVC_Web_Apps.html">Developing MVC web applications</a></li><li><a class="tocitem" href="../tutorials/5--Handling_Query_Params.html">Handling URI/query params</a></li><li><a class="tocitem" href="../tutorials/6--Working_with_POST_Payloads.html">Working with forms and POST payloads</a></li><li><a class="tocitem" href="../tutorials/7--Using_JSON_Payloads.html">Using JSON payloads</a></li><li><a class="tocitem" href="../tutorials/8--Handling_File_Uploads.html">Uploading files</a></li><li><a class="tocitem" href="../tutorials/9--Publishing_Your_Julia_Code_Online_With_Genie_Apps.html">Adding your libraries into Genie</a></li><li><a class="tocitem" href="../tutorials/10--Loading_Genie_Apps.html">Loading and starting Genie apps</a></li><li><a class="tocitem" href="../tutorials/11--Managing_External_Packages.html">Managing Genie app&#39;s dependencies</a></li><li><a class="tocitem" href="../tutorials/12--Advanced_Routing_Techniques.html">Advanced routing</a></li><li><a class="tocitem" href="../tutorials/13--Initializers.html">Auto-loading configuration code with initializers</a></li><li><a class="tocitem" href="../tutorials/14--The_Secrets_File.html">The secrets file</a></li><li><a class="tocitem" href="../tutorials/15--The_Lib_Folder.html">Auto-loading user libraries</a></li><li><a class="tocitem" href="../tutorials/16--Using_Genie_With_Docker.html">Using Genie with Docker</a></li><li><a class="tocitem" href="../tutorials/17--Working_with_Web_Sockets.html">Working with WebSockets</a></li><li><a class="tocitem" href="../tutorials/80--Force_Compiling_Routes.html">Force compiling route handlers</a></li><li><a class="tocitem" href="../tutorials/90--Deploying_With_Heroku_Buildpacks.html">Deploying to Heroku with Buildpacks</a></li><li><a class="tocitem" href="../tutorials/91--Deploying_Genie_Docker_Apps_on_Heroku.html">Deploying to Heroku with Docker</a></li><li><a class="tocitem" href="../tutorials/92--Deploying_Genie_Server_Apps_with_Nginx.html">Deploying to server with Nginx</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../API/app.html">App</a></li><li><a class="tocitem" href="../API/appserver.html">AppServer</a></li><li><a class="tocitem" href="../API/assets.html">Assets</a></li><li><a class="tocitem" href="../API/cache.html">Cache</a></li><li><a class="tocitem" href="../API/commands.html">Commands</a></li><li><a class="tocitem" href="../API/configuration.html">Configuration</a></li><li><a class="tocitem" href="../API/cookies.html">Cookies</a></li><li><input class="collapse-toggle" id="menuitem-4-8" type="checkbox"/><label class="tocitem" for="menuitem-4-8"><span class="docs-label">Deploy</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../API/deploy_docker.html">Docker</a></li><li><a class="tocitem" href="../API/deploy_heroku.html">Heroku</a></li></ul></li><li><a class="tocitem" href="../API/encryption.html">Encryption</a></li><li><a class="tocitem" href="../API/exceptions.html">Exceptions</a></li><li><a class="tocitem" href="../API/filetemplates.html">FileTemplates</a></li><li><a class="tocitem" href="../API/flash.html">Flash</a></li><li><a class="tocitem" href="../API/generator.html">Generator</a></li><li><a class="tocitem" href="../API/genie.html">Genie</a></li><li><a class="tocitem" href="../API/headers.html">Headers</a></li><li><a class="tocitem" href="../API/httputils.html">HttpUtils</a></li><li><a class="tocitem" href="../API/inflector.html">Inflector</a></li><li><a class="tocitem" href="../API/input.html">Input</a></li><li><a class="tocitem" href="../API/plugins.html">Plugins</a></li><li><a class="tocitem" href="../API/renderer.html">Renderer</a></li><li><a class="tocitem" href="../API/renderer_html.html">HTML Renderer</a></li><li><a class="tocitem" href="../API/renderer_js.html">JS Renderer</a></li><li><a class="tocitem" href="../API/renderer_json.html">JSON Renderer</a></li><li><a class="tocitem" href="../API/requests.html">Requests</a></li><li><a class="tocitem" href="../API/responses.html">Responses</a></li><li><a class="tocitem" href="../API/router.html">Router</a></li><li><a class="tocitem" href="../API/sessions.html">Sessions</a></li><li><a class="tocitem" href="../API/toolbox.html">Toolbox</a></li><li><a class="tocitem" href="../API/util.html">Util</a></li><li><a class="tocitem" href="../API/webchannels.html">WebChannels</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Guides</a></li><li class="is-active"><a href="Genie_Plugins.html">Using Genie Plugins</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="Genie_Plugins.html">Using Genie Plugins</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/GenieFramework/Genie.jl/blob/master/docs/src/guides/Genie_Plugins.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Genie-Plugins"><a class="docs-heading-anchor" href="#Genie-Plugins">Genie Plugins</a><a id="Genie-Plugins-1"></a><a class="docs-heading-anchor-permalink" href="#Genie-Plugins" title="Permalink"></a></h1><p>Genie plugins are special Julia packages which extend Genie apps with powerful  functionality by providing specific integration points. A Genie plugin is made of two parts:</p><ol><li>the Julia package exposing the core functionality of the plugin, and</li><li>a files payload (controllers, modules, views, database migrations, initializers, etc) which are copied into the client app upon plugin installation.</li></ol><h2 id="Using-Genie-Plugins"><a class="docs-heading-anchor" href="#Using-Genie-Plugins">Using Genie Plugins</a><a id="Using-Genie-Plugins-1"></a><a class="docs-heading-anchor-permalink" href="#Using-Genie-Plugins" title="Permalink"></a></h2><p>The plugins are created by third party Genie/Julia developers. Take this simple demo plugin as an example: <a href="https://github.com/GenieFramework/HelloPlugin.jl">https://github.com/GenieFramework/HelloPlugin.jl</a></p><p>In order to add the plugin to an existing Genie app you need to:</p><p>Add the <code>HelloPlugin</code> package to your Genie app, just like any other Julia Pkg dependency:</p><pre><code class="language-julia">pkg&gt; add https://github.com/GenieFramework/HelloPlugin.jl</code></pre><p>Bring the package into scope:</p><pre><code class="language-julia">julia&gt; using HelloPlugin</code></pre><p>Install the plugin (this is a one time operation, when the package is added):</p><pre><code class="language-julia">julia&gt; HelloPlugin.install(@__DIR__)</code></pre><h3 id="Running-the-Plugin"><a class="docs-heading-anchor" href="#Running-the-Plugin">Running the Plugin</a><a id="Running-the-Plugin-1"></a><a class="docs-heading-anchor-permalink" href="#Running-the-Plugin" title="Permalink"></a></h3><p>The installation will add a new <code>hello</code> resource in <code>app/resources/hello/</code> in the form of <code>HelloController.jl</code> and <code>views/greet.jl.html</code>. Also, in your Genie app&#39;s <code>plugins/</code> folder you fill find a new file, <code>helloplugin.jl</code> (which is the plugins&#39; initializer and is automatically loaded by Genie early in the bootstrap process).</p><p>The <code>helloplugin.jl</code> initializer is defining a new route <code>route(&quot;/hello&quot;, HelloController.greet)</code>. If you restart your Genie app and navigate to <code>/hello</code> you will get the plugin&#39;s greeting.</p><h2 id="Walkthrough"><a class="docs-heading-anchor" href="#Walkthrough">Walkthrough</a><a id="Walkthrough-1"></a><a class="docs-heading-anchor-permalink" href="#Walkthrough" title="Permalink"></a></h2><p>Create a new Genie app:</p><pre><code class="language-julia">julia&gt; using Genie

julia&gt; Genie.newapp(&quot;Greetings&quot;, autostart = false)</code></pre><p>Add the plugin as a dependency:</p><pre><code class="language-julia">julia&gt; ]

pkg&gt; add https://github.com/GenieFramework/HelloPlugin.jl</code></pre><p>Bring the plugin into scope and run the installer (the installer should be run only once, upon adding the plugin package)</p><pre><code class="language-julia">julia&gt; using HelloPlugin

julia&gt; HelloPlugin.install(@__DIR__)</code></pre><p>The installation might show a series of logging messages informing about failure to copy some files or create folders. Normally it&#39;s nothing to worry about: these are due to the fact that some of the files and folders already exist in the app so they are not overwritten by the installer.</p><p>Restart the app to load the plugin:</p><pre><code class="language-julia">julia&gt; exit()

$ cd Greetings/

$ bin/repl</code></pre><p>Start the server:</p><pre><code class="language-julia">julia&gt; Genie.startup()</code></pre><p>Navigate to <code>http://localhost:8000/hello</code> to get the greeting from the plugin.</p><hr/><h2 id="Developing-Genie-Plugins"><a class="docs-heading-anchor" href="#Developing-Genie-Plugins">Developing Genie Plugins</a><a id="Developing-Genie-Plugins-1"></a><a class="docs-heading-anchor-permalink" href="#Developing-Genie-Plugins" title="Permalink"></a></h2><p>Genie provides an efficient scaffold for bootstraping a new plugin package. All you need to do is run this code to create your plugin project:</p><pre><code class="language-julia">julia&gt; using Genie

julia&gt; Genie.Plugins.scaffold(&quot;GenieHelloPlugin&quot;) # use the actual name of your plugin
Generating project file
Generating project GenieHelloPlugin:
    GenieHelloPlugin/Project.toml
    GenieHelloPlugin/src/GenieHelloPlugin.jl
Scaffolding file structure

Adding dependencies
  Updating registry at `~/.julia/registries/General`
  Updating git-repo `https://github.com/JuliaRegistries/General.git`
  Updating git-repo `https://github.com/genieframework/Genie.jl`
 Resolving package versions...
  Updating `~/GenieHelloPlugin/Project.toml`
  [c43c736e] + Genie v0.9.4 #master (https://github.com/genieframework/Genie.jl)
  Updating `~/GenieHelloPlugin/Manifest.toml`

Initialized empty Git repository in /Users/adrian/GenieHelloPlugin/.git/
[master (root-commit) 30533f9] initial commit
 11 files changed, 261 insertions(+)

Congratulations, your plugin is ready!
You can use this default installation function in your plugin&#39;s module:
  function install(dest::String; force = false)
    src = abspath(normpath(joinpath(@__DIR__, &quot;..&quot;, Genie.Plugins.FILES_FOLDER)))

    for f in readdir(src)
      isdir(f) || continue
      Genie.Plugins.install(joinpath(src, f), dest, force = force)
    end
  end</code></pre><p>The scaffold command will create the file structure of your plugin, including the Julia project, the <code>.git</code> repo, and the file structure for integrating with Genie apps:</p><pre><code class="language-none">.
├── Manifest.toml
├── Project.toml
├── files
│   ├── app
│   │   ├── assets
│   │   │   ├── css
│   │   │   ├── fonts
│   │   │   └── js
│   │   ├── helpers
│   │   ├── layouts
│   │   └── resources
│   ├── db
│   │   ├── migrations
│   │   └── seeds
│   ├── lib
│   ├── plugins
│   │   └── geniehelloplugin.jl
│   └── task
└── src
    └── GenieHelloPlugin.jl</code></pre><p>The core of the functionality shoud go into the <code>src/GenieHelloPlugin.jl</code> module. While everything placed within the <code>files/</code> folder should be copied into the corresponding folders of the Genie apps installing the plugin. You can add resources, controllers, models, database migrations, views, assets and any other files inside the <code>files/</code> folder to be copied.</p><p>The scaffolding will also create a <code>plugins/geniehelloplugin.jl</code> file - this is the initializer of the plugin and is meant to bootstrap the functionality of the plugin. Here you can load dependencies, define routes, set up configuration, etc.</p><p>Because any Genie plugin is a Julia <code>Pkg</code> project, you can add any other Julia packages as dependencies.</p><h3 id="The-Installation-Function"><a class="docs-heading-anchor" href="#The-Installation-Function">The Installation Function</a><a id="The-Installation-Function-1"></a><a class="docs-heading-anchor-permalink" href="#The-Installation-Function" title="Permalink"></a></h3><p>The main module file, present in <code>src/GenieHelloPlugin.jl</code> should also expose an <code>install(path::String)</code> function, responsible for copying the files of your plugin into the user Genie app. The <code>path</code> param is the root of the Genie app where the installation will be performed.</p><p>As copying the plugin&#39;s files is a standard but tedious operation, Genie provides some helpers to get you started. The <code>Genie.Plugins</code> module provides an <code>install(path::String, dest::String; force = false)</code> which can be used for copying the plugin&#39;s files to their destination in the app.</p><p>The scaffolding function will also recommend a default <code>install(path::String)</code> that you can use in your module:</p><pre><code class="language-julia">function install(dest::String; force = false)
  src = abspath(normpath(joinpath(@__DIR__, &quot;..&quot;, Genie.Plugins.FILES_FOLDER)))

  for f in readdir(src)
    isdir(f) || continue
    Genie.Plugins.install(joinpath(src, f), dest, force = force)
  end
end</code></pre><p>You can use it as a starting point - and add any other specific extra logic to it.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="Simple_API_backend.html">« Developing an API backend</a><a class="docs-footer-nextpage" href="Working_With_Genie_Apps_Intermediary_Topics.html">Working With Genie Apps: Intermediate Topics [WIP] »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 27 October 2020 19:44">Tuesday 27 October 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
