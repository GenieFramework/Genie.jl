<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Creating a web service · Genie - The Highly Productive Julia Web Framework</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">Genie - The Highly Productive Julia Web Framework</a></span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li><span class="tocitem">Guides</span><ul><li><a class="tocitem" href="../guides/Migrating_from_v4_to_v5.html">Migrating Genie v4 apps to Genie v5</a></li><li><a class="tocitem" href="../guides/Working_With_Genie_Apps.html">Working with Genie Apps</a></li><li><a class="tocitem" href="../guides/Working_With_Genie_Apps_Intermediary_Topics.html">Working With Genie Apps: Intermediate Topics [WIP]</a></li><li><a class="tocitem" href="../guides/Interactive_environment.html">Using Genie in an interactive environment</a></li><li><a class="tocitem" href="../guides/Simple_API_backend.html">Developing an API backend</a></li><li><a class="tocitem" href="../guides/Genie_Plugins.html">Using Genie Plugins</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="1--Overview.html">Welcome to Genie</a></li><li><a class="tocitem" href="2--Installing_Genie.html">Installing Genie</a></li><li><a class="tocitem" href="3--Getting_Started.html">Getting started</a></li><li class="is-active"><a class="tocitem" href="4--Developing_Web_Services.html">Creating a web service</a><ul class="internal"><li><a class="tocitem" href="#Setting-up-a-Genie-Web-Service-project"><span>Setting up a Genie Web Service project</span></a></li><li><a class="tocitem" href="#The-file-structure"><span>The file structure</span></a></li><li><a class="tocitem" href="#Adding-logic"><span>Adding logic</span></a></li><li><a class="tocitem" href="#Extending-the-app"><span>Extending the app</span></a></li></ul></li><li><a class="tocitem" href="4-1--Developing_MVC_Web_Apps.html">Developing MVC web applications</a></li><li><a class="tocitem" href="5--Handling_Query_Params.html">Handling URI/query params</a></li><li><a class="tocitem" href="6--Working_with_POST_Payloads.html">Working with forms and POST payloads</a></li><li><a class="tocitem" href="7--Using_JSON_Payloads.html">Using JSON payloads</a></li><li><a class="tocitem" href="8--Handling_File_Uploads.html">Uploading files</a></li><li><a class="tocitem" href="9--Publishing_Your_Julia_Code_Online_With_Genie_Apps.html">Adding your libraries into Genie</a></li><li><a class="tocitem" href="10--Loading_Genie_Apps.html">Loading and starting Genie apps</a></li><li><a class="tocitem" href="11--Managing_External_Packages.html">Managing Genie app&#39;s dependencies</a></li><li><a class="tocitem" href="12--Advanced_Routing_Techniques.html">Advanced routing</a></li><li><a class="tocitem" href="13--Initializers.html">Auto-loading configuration code with initializers</a></li><li><a class="tocitem" href="14--The_Secrets_File.html">The secrets file</a></li><li><a class="tocitem" href="15--The_Lib_Folder.html">Auto-loading user libraries</a></li><li><a class="tocitem" href="16--Using_Genie_With_Docker.html">Using Genie with Docker</a></li><li><a class="tocitem" href="17--Working_with_Web_Sockets.html">Working with WebSockets</a></li><li><a class="tocitem" href="90--Deploying_With_Heroku_Buildpacks.html">Deploying to Heroku with Buildpacks</a></li><li><a class="tocitem" href="92--Deploying_Genie_Server_Apps_with_Nginx.html">Deploying to server with Nginx</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../API/assets.html">Assets</a></li><li><a class="tocitem" href="../API/commands.html">Commands</a></li><li><a class="tocitem" href="../API/configuration.html">Configuration</a></li><li><a class="tocitem" href="../API/cookies.html">Cookies</a></li><li><a class="tocitem" href="../API/encryption.html">Encryption</a></li><li><a class="tocitem" href="../API/exceptions.html">Exceptions</a></li><li><a class="tocitem" href="../API/filetemplates.html">FileTemplates</a></li><li><a class="tocitem" href="../API/generator.html">Generator</a></li><li><a class="tocitem" href="../API/genie.html">Genie</a></li><li><a class="tocitem" href="../API/headers.html">Headers</a></li><li><a class="tocitem" href="../API/httputils.html">HttpUtils</a></li><li><a class="tocitem" href="../API/input.html">Input</a></li><li><a class="tocitem" href="../API/loader.html">Loader</a></li><li><a class="tocitem" href="../API/logger.html">Logger</a></li><li><a class="tocitem" href="../API/renderer.html">Renderer</a></li><li><a class="tocitem" href="../API/renderer-html.html">HTML Renderer</a></li><li><a class="tocitem" href="../API/renderer-js.html">JS Renderer</a></li><li><a class="tocitem" href="../API/renderer-json.html">JSON Renderer</a></li><li><a class="tocitem" href="../API/requests.html">Requests</a></li><li><a class="tocitem" href="../API/responses.html">Responses</a></li><li><a class="tocitem" href="../API/router.html">Router</a></li><li><a class="tocitem" href="../API/secrets.html">Secrets</a></li><li><a class="tocitem" href="../API/server.html">Server</a></li><li><a class="tocitem" href="../API/toolbox.html">Toolbox</a></li><li><a class="tocitem" href="../API/util.html">Util</a></li><li><a class="tocitem" href="../API/watch.html">Watch</a></li><li><a class="tocitem" href="../API/webchannels.html">WebChannels</a></li><li><a class="tocitem" href="../API/webthreads.html">WebThreads</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href="4--Developing_Web_Services.html">Creating a web service</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="4--Developing_Web_Services.html">Creating a web service</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/GenieFramework/Genie.jl/blob/master/docs/src/tutorials/4--Developing_Web_Services.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Developing-Genie-Web-Services"><a class="docs-heading-anchor" href="#Developing-Genie-Web-Services">Developing Genie Web Services</a><a id="Developing-Genie-Web-Services-1"></a><a class="docs-heading-anchor-permalink" href="#Developing-Genie-Web-Services" title="Permalink"></a></h1><p>Starting up ad-hoc web servers at the REPL and writing small scripts to wrap micro-services works great, but production apps tend to become complex quickly. They also have more stringent requirements, like managing dependencies, compressing assets, reloading code, logging, environments, or structuring the codebase in a way which promotes efficient workflows when working in teams.</p><p>Genie enables a modular approach towards app building, allowing to add more components as the need arises. You can start with the web service template (which includes dependencies management, logging, environments, and routing), and grow it by sequentially adding DB persistence (through the SearchLight ORM), high performance HTML view templates with embedded Julia (via <code>Renderer.Html</code>), caching, authentication, and more.</p><h2 id="Setting-up-a-Genie-Web-Service-project"><a class="docs-heading-anchor" href="#Setting-up-a-Genie-Web-Service-project">Setting up a Genie Web Service project</a><a id="Setting-up-a-Genie-Web-Service-project-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-up-a-Genie-Web-Service-project" title="Permalink"></a></h2><p>Genie packs handy generator features and templates which help bootstrapping and setting up various parts of an application. These are available in the <code>Genie.Generator</code> module. For bootstrapping a new app we need to invoke one of the functions in the <code>newapp</code> family:</p><pre><code class="language-julia hljs">julia&gt; using Genie

julia&gt; Genie.Generator.newapp_webservice(&quot;MyGenieApp&quot;)</code></pre><p>If you follow the log messages in the REPL you will see that the command will trigger a flurry of actions in order to set up the new project:</p><ul><li>it creates a new folder, <code>MyGenieApp/</code>, which will hosts the files of the app and whose name corresponds to the name of the app,</li><li>within the <code>MyGenieApp/</code> folder, it creates the files and folders needed by the app,</li><li>changes the active directory to <code>MyGenieApp/</code> and creates a new Julia project within it (adding the <code>Project.toml</code> file),</li><li>installs all the required dependencies for the new Genie app (using <code>Pkg</code> and the standard <code>Manifest.toml</code> file), and finally,</li><li>starts the web server</li></ul><hr/><p><strong>TIP</strong></p><p>Check out the <code>?help</code> documentation for <code>Genie.Generator.newapp</code>, <code>Genie.Generator.newapp_webservice</code>, <code>Genie.Generator.newapp_mvc</code>, and <code>Genie.Generator.newapp_fullstack</code> too see what options are available for bootstrapping applications. We&#39;ll go over the different configurations in upcoming sections.</p><hr/><h2 id="The-file-structure"><a class="docs-heading-anchor" href="#The-file-structure">The file structure</a><a id="The-file-structure-1"></a><a class="docs-heading-anchor-permalink" href="#The-file-structure" title="Permalink"></a></h2><p>Our newly created web service has this file structure:</p><pre><code class="language-julia hljs">├── .gitattributes
├── .gitignore
├── Manifest.toml
├── Project.toml
├── bin
├── bootstrap.jl
├── config
├── public
├── routes.jl
├── src
└── test</code></pre><p>These are the roles of each of the files and folders:</p><ul><li><code>Manifest.toml</code> and <code>Project.toml</code> are used by Julia and <code>Pkg</code> to manage the app&#39;s dependencies.</li><li><code>bin/</code> includes scripts for starting up a Genie REPL or a Genie server.</li><li><code>bootstrap.jl</code> and the files within <code>src/</code> are used by Genie to load the application and <em>should not be modified</em> unless you know what you&#39;re doing.</li><li><code>config/</code> includes the per-environment configuration files.</li><li><code>public/</code> is the document root, which includes static files exposed by the app on the network/internet.</li><li><code>routes.jl</code> is the dedicated file for registering Genie routes.</li><li>the <code>test/</code> folder is set up to store the unit and integration tests for the app.</li><li><code>.gitattributes</code> and <code>.gitignore</code> are used by Git to manage the project&#39;s files.</li></ul><hr/><p><strong>HEADS UP</strong></p><p>After creating a new app you might need to change the file permissions to allow editing/saving the files such as <code>routes.jl</code>.</p><hr/><h2 id="Adding-logic"><a class="docs-heading-anchor" href="#Adding-logic">Adding logic</a><a id="Adding-logic-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-logic" title="Permalink"></a></h2><p>You can now edit the <code>routes.jl</code> file to add some logic, at the bottom of the file:</p><pre><code class="language-julia hljs">route(&quot;/hello&quot;) do
  &quot;Welcome to Genie!&quot;
end</code></pre><p>If you now visit <a href="http://127.0.0.1:8000/hello">http://127.0.0.1:8000/hello</a> you&#39;ll see a warm greeting.</p><h2 id="Extending-the-app"><a class="docs-heading-anchor" href="#Extending-the-app">Extending the app</a><a id="Extending-the-app-1"></a><a class="docs-heading-anchor-permalink" href="#Extending-the-app" title="Permalink"></a></h2><p>Genie apps are just plain Julia projects. This means that <code>routes.jl</code> will behave like any other Julia script - you can reference extra packages, you can switch into <code>pkg&gt;</code> mode to manage per project dependencies, include other files, etcetera.</p><p>If you have existing Julia code that you want to quickly load into a Genie app, you can add a <code>lib/</code> folder in the root of the app and place your Julia files there. If the folder exists, <code>lib/</code> and all its subfolders are automatically loaded by Genie, recursively.</p><hr/><p><strong>WARNING</strong></p><p>If you add the <code>lib/</code> folder while the Genie app is running, you will need to restart the app to load the files.</p><hr/><p>If you need to add database support, you can always add the SearchLight ORM by running <code>julia&gt; Genie.Generator.db_support()</code> in the app&#39;s REPL.</p><p>However, if your app grows in complexity and you develop it from scratch, it is more efficient to take advantage of Genie&#39;s resource-oriented MVC structure.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="3--Getting_Started.html">« Getting started</a><a class="docs-footer-nextpage" href="4-1--Developing_MVC_Web_Apps.html">Developing MVC web applications »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Friday 23 September 2022 09:36">Friday 23 September 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
